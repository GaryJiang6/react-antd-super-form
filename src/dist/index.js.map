{"version":3,"file":"index.js","sources":["../src/builder/inject-event.js","../src/builder/antd.js","../src/builder/index.js","../src/Form.js","../src/hoc/pagination.js","../src/Table.js","../src/List.js","../src/Modal.js","../node_modules/_style-inject@0.3.0@style-inject/dist/style-inject.es.js","../src/hoc/search.js","../src/index.js"],"sourcesContent":["const events = ['onClick', 'onChange', 'onOk', 'onPressEnter'];\n\nexport default (obj, form) => {\n  const newObj = {\n    ...obj\n  }\n\n  events.forEach((item) => {\n    if (obj[item]) {\n      newObj[item] = (...props) => obj[item](...props, form)\n    }\n  })\n\n  return newObj;\n}\n","import {\n  Input,\n  Select,\n  InputNumber,\n  Switch,\n  Radio,\n  Slider,\n  Button,\n  Upload,\n  Icon,\n  Rate,\n  Checkbox,\n  DatePicker\n} from 'antd';\n\nexport default {\n  // 类一\n  input: Input,\n  number: InputNumber,\n  slider: Slider,\n  switch: Switch,\n  textarea: Input.TextArea,\n  datepicker: DatePicker,\n  rangepicker: DatePicker.RangePicker,\n\n  // 类二\n  button: Button,\n  searchbutton: Button,\n\n  // 类三\n  select: Select,\n  radio: Radio,\n  radiobutton: Radio,\n  checkbox: Checkbox,\n\n  // 类四\n  upload: Upload\n}\n","import React from 'react';\nimport injectEvent from './inject-event';\nimport AntdElements from './antd';\n\n\nconst toString = Object.prototype.toString;\nconst transToArray = (obj) => {\n  if (toString.call(obj) === '[object Object]') {\n    return Object.keys(obj).map(key => {\n      return { label: obj[key], value: key }\n    })\n  } else if (toString.call(obj) === '[object Array]') {\n    return obj;\n  }\n\n  throw new Error('need obj or array')\n}\n\nconst uploadStyle = {\n  width: 100,\n  height: 100,\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'center',\n  alignItems: 'center',\n  border: '1px dashed darkgray'\n};\n\n\nexport default (obj, form) => {\n  const { type = 'defaultType', ...other } = obj;\n  // 事件参数注入\n  const props = injectEvent(other, form);\n\n\n  const t = type.toLocaleLowerCase();\n  const Component = AntdElements[t];\n\n  let formElement = null;\n  switch (t) {\n    case 'button': {\n      let { onSearch, buttonType, text, ...pr } = props;\n      if (onSearch) {\n        if (props.onClick) {\n          let old = props.onClick;\n          pr.onClick = (e, form) => {\n            old(e, form)\n            onSearch(form);\n          }\n        } else {\n          pr.onClick = () => {\n            onSearch(form);\n          }\n        }\n      }\n\n      formElement = <Component type={buttonType} {...pr} >{text}</Component>\n    }\n\n      break;\n    case 'input':\n    case 'inputnumber':\n    case 'switch':\n    case 'slider':\n    case 'textarea':\n    case 'datepicker':\n    case 'rangepicker': {\n      formElement = <Component {...props} />\n    }\n      break;\n\n    case 'upload':\n      {\n        let {\n          children = () => {\n            return (<div style={uploadStyle}>\n              <Icon type={this.state.loading ? 'loading' : 'plus'} />\n              <div className=\"ant-upload-text\">上传</div>\n            </div>)\n          }\n          , ...pr\n        } = props;\n\n        formElement = <Component {...pr} >\n          {\n            children()\n          }\n        </Component>\n      }\n\n      break;\n\n    case 'select':\n      {\n        const { options = [], ...pr } = props;\n\n        formElement = (<Component {...pr} >\n          {transToArray(options).map(item => {\n            return (\n              <Component.Option key={item.key || item.value} value={item.value}>{item.label}</Component.Option>\n            );\n          })}\n        </Component>)\n      }\n      break;\n\n    case 'checkbox':\n    case 'radio':\n      {\n        const { options = [], ...pr } = props;\n\n        formElement = (<Component.Group {...pr} >\n          {transToArray(options).map(item => {\n            return (\n              <Component key={item.key || item.value} value={item.value}>{item.label}</Component>\n            );\n          })}\n        </Component.Group>)\n      }\n\n      break;\n    case 'radiobutton':\n      {\n        const { options = [], ...pr } = props;\n\n        formElement = (<Component.Group {...pr} >\n          {transToArray(options).map(item => {\n            return (\n              <Component.Button key={item.key || item.value} value={item.value}>{item.label}</Component.Button>\n            );\n          })}\n        </Component.Group>)\n      }\n      break;\n\n\n    default:\n      formElement = <input placeholder=\"default element\" />;\n  }\n\n  return formElement;\n\n}","import React, { Component } from 'react';\nimport { message, Form } from 'antd';\nimport createFormItem from './builder';\n\n\nclass _Form extends Component {\n\n  _renderElement(form, getFieldDecorator, onSearch, data = [], cls) {\n    return data.map((item, index) => {\n      const {\n        // 元素非固有属性 - 过滤\n        label,\n        // - for getFieldDecorator\n        unbind,\n        // for all\n        visible = true,\n        key = `random_key_${Math.random()}`,\n        config = {},\n        // - for 元素\n        render,\n        bindSearch = false,\n        // - for 元素\n        type,\n        // form form Item ele\n        formItemLayout = {},\n        // for extra\n        extra = null,\n        // 元素固有属性\n        ...props\n      } = item;\n      let ret = null;\n      if (visible === false) {\n        return;\n      } else if (type === 'br') {\n        return <br key={index} />\n      } else if (type === 'group') {\n        ret = this._renderElement(form, getFieldDecorator, onSearch, item.children, 'group')\n      } else if (render) {\n        let renderItem = render(form) || <input placeholder=\"default: render need return\"></input>;\n        ret = unbind === true ? renderItem : getFieldDecorator(key, config)(renderItem)\n      } else {\n\n        let _item = {\n          type,\n          ...props\n        }\n        if (bindSearch) _item.onSearch = onSearch;\n        let renderItem = createFormItem(_item, form);\n        ret = type === 'button' ? renderItem : getFieldDecorator(key, config)(renderItem)\n      }\n\n      if (cls === 'group') {\n        return (<span style={{ paddingRight: 10 }} key={`1_${index}`}>{ret}</span>)\n      }\n\n      return (<Form.Item label={label} key={index} {...formItemLayout}>\n        {\n          type === 'group' ? <div>{ret}</div> : ret\n        }\n      </Form.Item>)\n\n    })\n  }\n\n  render() {\n    const { form, formLayout, layout = \"horizontal\", data = [], onSearch } = this.props;\n    const { getFieldDecorator } = form;\n\n    let _formLayout = formLayout || layout === 'horizontal' ? {\n      labelCol: { span: 6 },\n      wrapperCol: { span: 14 },\n    } : null\n\n    return (<Form layout={layout} {..._formLayout}>\n      {\n        this._renderElement(form, getFieldDecorator, onSearch, data)\n      }\n    </Form>)\n  }\n}\nexport default Form.create()(_Form) ","import React from 'react';\n\n\nexport default (Component) => {\n  return class extends React.Component {\n    constructor() {\n      super();\n      this.state = {\n        _list: [],\n        _total: 0,\n        _current: 1,\n        _pageSize: 10\n      }\n    }\n\n    componentWillMount() {\n      const { pagination = false, isInit = false } = this.props;\n      const { current = 1, pageSize = 10, onShowSizeChange } = pagination;\n      this.setState({\n        _list: [],\n        _total: 0,\n        _current: current,\n        _pageSize: pageSize\n      }, () => {\n        // 初始化 是否要求加载数据\n        isInit && this._loadData();\n      })\n    }\n\n    _pageChange(_current = 1, _pageSize = 10) {\n      this.setState({\n        _current,\n        _pageSize\n      }, () => {\n        this._loadData();\n      })\n    }\n\n    reset() {\n      const { current = 1, pageSize = 10 } = this.props;\n      this.setState({\n        _list: [],\n        _total: 0,\n        _current: current,\n        _pageSize: pageSize\n      }, () => {\n        this._loadData();\n      })\n    }\n\n    refresh() {\n      this._loadData();\n    }\n\n    _filter(params = {}) {\n      const ret = {};\n      Object.keys(params).map(key => {\n        if (!key.includes(',')) ret[key] = params[key]\n      })\n\n      return ret;\n    }\n\n    _loadData() {\n      const { _current, _pageSize } = this.state;\n      const { action, actionError = (msg) => console.error(msg), params = () => { return {} } } = this.props;\n      const values = {\n        ...this._filter(params()),\n        page: _current,\n        pageSize: _pageSize\n      }\n\n      let request = null;\n      if (action) {\n        request = action(values);\n\n      } else {\n        throw new Error('need action filed')\n      }\n\n      request.then(res => {\n        if (res.status) {\n          this.setState({\n            _list: res.entry,\n            _total: res.totalRecordSize\n          })\n        } else {\n          actionError(res.message)\n        }\n      })\n    }\n\n    render() {\n      const { _list = [], _total, _current, _pageSize } = this.state;\n      const { pagination = true, action, params, isInit, ...props } = this.props;\n      // 追加 pagination 配置\n      let _pagination = null;\n      if (pagination === false) {\n        _pagination = false\n      } else {\n        const {\n          total, current, pageSize,\n          showSizeChanger = true,\n          onChange = () => { },\n          showTotal = (total, range) => `${range[0]}-${range[1]} 条, 共 ${total} 条`,\n          onShowSizeChange = () => { }, ...config\n        } = pagination;\n        _pagination = {\n          total: _total,\n          current: _current,\n          pageSize: _pageSize,\n          onChange: (...pr) => {\n            this._pageChange(...pr);\n            onChange(...pr);\n          },\n          showTotal,\n          showSizeChanger,\n          onShowSizeChange: (current, pageSize) => {\n            this._pageChange(current, pageSize);\n            onShowSizeChange(current, pageSize)\n          },\n          ...config\n        }\n      }\n      return (\n        <Component {...props} dataSource={_list} pagination={_pagination} />\n      )\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport { Table } from 'antd';\n\nimport withPagination from './hoc/pagination';\n\nexport default withPagination(Table)","import React, { Component } from 'react';\nimport { List } from 'antd';\n\nimport withPagination from './hoc/pagination';\n\nexport default withPagination(List)\n","import React, { Component } from 'react';\nimport { Modal } from 'antd';\nimport { Form } from './';\n\n\nexport default class extends Component {\n\n  constructor() {\n    super()\n    this.state = {\n      isVisible: false,\n    }\n\n  }\n\n  componentWillMount() {\n\n    this.setState({\n      isVisible: this.props.visible\n    })\n  }\n\n  show(isShow = true) {\n\n    this.setState({\n      isVisible: isShow,\n    })\n  }\n\n  getFieldsValue() {\n    // return this.refs.form.getFieldsValue();\n    return this.form.getFieldsValue();\n  }\n\n  _onCancel(callback) {\n    this.setState({\n      isVisible: false\n    }, () => {\n      callback && callback()\n    })\n  }\n\n  _afterClose(callback) {\n    this.form.resetFields()\n    callback && callback()\n  }\n\n  render() {\n    const { isVisible } = this.state;\n    const {\n      children,\n      visible,\n      onCancel = () => { },\n      afterClose = () => { },\n      onOk = () => { },\n      search, form = {},\n      ...pr\n    } = this.props;\n\n    return (\n      <Modal\n        visible={isVisible}\n        onCancel={() => this._onCancel(onCancel)}\n        afterClose={() => this._afterClose(afterClose)}\n        onOk={(e) => { onOk(e, this.refs.form, (f) => this.show(f)) }}\n        {...pr}\n      >\n        <Form\n          // ref=\"form\"\n          wrappedComponentRef={(inst) => this.form = inst && inst.props.form}\n          {...form}\n        />\n      </Modal>\n    )\n  }\n\n\n}","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\n\nexport default (Component) => {\n  return class extends React.Component {\n\n    constructor() {\n      super();\n      this.state = {\n        formValues: {},\n      }\n    }\n\n    _search(fieldsValue) {\n      let formValues = {};\n      const values = {\n        ...fieldsValue\n      };\n      // 移除空的字段\n      Object.keys(values).forEach(key => {\n        let val = values[key];\n        if (Object.prototype.toString.call(val) !== \"[object Undefined]\" && val !== '') {\n          formValues[key] = val;\n        }\n      });\n\n      this.setState({\n        formValues\n      }, () => {\n        // 待实现的接口 : 模拟 interface or \n        this.refresh();\n      })\n    }\n    // 由子类进行实现或重写\n    refresh() {\n      this.refs.hoc.refresh()\n      console.log('from hoc search')\n    }\n\n    resetFields() {\n      this.props.form.resetFields();\n      this.setState({\n        formValues: {},\n      })\n    }\n\n    _getSearchParams() {\n      return this.state.formValues;\n    }\n\n    render() {\n      const props = {\n        // 继承了配置\n        ...this.props,\n        // 新增了 两个函数, 一个是获取参数数据, 一个是进行请求\n        params: () => this._getSearchParams(),\n        onSearch: (form) => this._search(form.getFieldsValue())\n      }\n\n      return <Component ref=\"hoc\" {...props} />\n    }\n  }\n}\n\n\n// 1. 搜索过后, 表单状态才进行了保存, 后期可直接获取\n// 2. 想要获取表单数据, 必须进行一次搜索","import React, { Component } from 'react';\n\nimport Form from './Form';\nimport Table from './Table';\nimport List from './List';\nimport Modal from './Modal';\n\nimport styles from './style.css';\nimport withSearch from './hoc/search';\n\nexport {\n  Form,\n  Table,\n  List,\n  Modal,\n}\n\nclass SuperForm extends Component {\n\n  refresh() {\n    this.refs.list.refresh();\n  }\n\n  render() {\n    const {\n      type = 'table',   // 类型\n      search, onSearch, // search form 配置, onSearch 为自动传入事件\n      table, ...props  // table or list 配置\n    } = this.props;\n\n    return (\n      <div>\n        <div className={styles.form}>\n          <Form {...search} onSearch={onSearch} />\n        </div>\n        <div className={styles.table}>\n          {\n            type === 'table' ? <Table ref=\"list\" {...table} {...props} /> : <List ref=\"list\" {...table} {...props} />\n          }\n        </div>\n\n      </div>\n    )\n  }\n}\n\nexport default withSearch(SuperForm) "],"names":["events","obj","form","newObj","forEach","item","props","TextArea","RangePicker","toString","Object","prototype","transToArray","call","keys","map","label","key","value","Error","uploadStyle","type","other","injectEvent","t","toLocaleLowerCase","Component","AntdElements","formElement","onSearch","buttonType","text","pr","onClick","old","e","React","children","state","loading","options","_Form","getFieldDecorator","data","cls","index","unbind","visible","Math","random","config","render","bindSearch","formItemLayout","extra","ret","_renderElement","renderItem","_item","createFormItem","paddingRight","formLayout","layout","_formLayout","span","create","pagination","isInit","current","pageSize","onShowSizeChange","setState","_loadData","_current","_pageSize","params","includes","action","actionError","msg","console","error","values","_filter","request","then","res","status","entry","totalRecordSize","message","_list","_total","_pagination","total","showSizeChanger","onChange","showTotal","range","_pageChange","withPagination","isShow","getFieldsValue","callback","resetFields","isVisible","onCancel","afterClose","onOk","search","_onCancel","_afterClose","refs","f","show","inst","fieldsValue","formValues","val","refresh","hoc","log","_getSearchParams","_search","SuperForm","list","table","styles","withSearch"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,CAAC,SAAD,EAAY,UAAZ,EAAwB,MAAxB,EAAgC,cAAhC,CAAf;;AAEA,mBAAe,UAACC,GAAD,EAAMC,IAAN,EAAe;MACtBC,sBACDF,GADC,CAAN;;SAIOG,OAAP,CAAe,UAACC,IAAD,EAAU;QACnBJ,IAAII,IAAJ,CAAJ,EAAe;aACNA,IAAP,IAAe;0CAAIC,KAAJ;eAAA;;;eAAcL,IAAII,IAAJ,aAAaC,KAAb,SAAoBJ,IAApB,GAAd;OAAf;;GAFJ;;SAMOC,MAAP;CAXF;;ACaA,mBAAe;;eAAA;sBAAA;iBAAA;iBAAA;YAMH,OAAMI,QANH;yBAAA;eAQA,YAAWC,WARX;;;iBAAA;uBAAA;;;iBAAA;eAAA;qBAAA;qBAAA;;;;CAAf;;;;ACVA,IAAMC,WAAWC,OAAOC,SAAP,CAAiBF,QAAlC;AACA,IAAMG,eAAe,SAAfA,YAAe,CAACX,GAAD,EAAS;MACxBQ,SAASI,IAAT,CAAcZ,GAAd,MAAuB,iBAA3B,EAA8C;WACrCS,OAAOI,IAAP,CAAYb,GAAZ,EAAiBc,GAAjB,CAAqB,eAAO;aAC1B,EAAEC,OAAOf,IAAIgB,GAAJ,CAAT,EAAmBC,OAAOD,GAA1B,EAAP;KADK,CAAP;GADF,MAIO,IAAIR,SAASI,IAAT,CAAcZ,GAAd,MAAuB,gBAA3B,EAA6C;WAC3CA,GAAP;;;QAGI,IAAIkB,KAAJ,CAAU,mBAAV,CAAN;CATF;;AAYA,IAAMC,cAAc;SACX,GADW;UAEV,GAFU;WAGT,MAHS;iBAIH,QAJG;kBAKF,QALE;cAMN,QANM;UAOV;CAPV;;AAWA,sBAAe,UAACnB,GAAD,EAAMC,IAAN,EAAe;kBACeD,GADf,CACpBoB,IADoB;MACpBA,IADoB,6BACb,aADa;MACKC,KADL,2BACerB,GADf;;;MAGtBK,QAAQiB,YAAYD,KAAZ,EAAmBpB,IAAnB,CAAd;;MAGMsB,IAAIH,KAAKI,iBAAL,EAAV;MACMC,YAAYC,aAAaH,CAAb,CAAlB;;MAEII,cAAc,IAAlB;UACQJ,CAAR;SACO,QAAL;;YACQK,QADO,GAC+BvB,KAD/B,CACPuB,QADO;YACGC,UADH,GAC+BxB,KAD/B,CACGwB,UADH;YACeC,IADf,GAC+BzB,KAD/B,CACeyB,IADf;YACwBC,EADxB,2BAC+B1B,KAD/B;;YAETuB,QAAJ,EAAc;cACRvB,MAAM2B,OAAV,EAAmB;gBACbC,MAAM5B,MAAM2B,OAAhB;eACGA,OAAH,GAAa,UAACE,CAAD,EAAIjC,IAAJ,EAAa;kBACpBiC,CAAJ,EAAOjC,IAAP;uBACSA,IAAT;aAFF;WAFF,MAMO;eACF+B,OAAH,GAAa,YAAM;uBACR/B,IAAT;aADF;;;;sBAMUkC;mBAAA;qBAAW,MAAMN,UAAjB,IAAiCE,EAAjC;;SAAd;;;;SAIG,OAAL;SACK,aAAL;SACK,QAAL;SACK,QAAL;SACK,UAAL;SACK,YAAL;SACK,aAAL;;sBACgBI,6BAAC,SAAD,EAAe9B,KAAf,CAAd;;;;SAIG,QAAL;;8BAUQA,KATN,CAEI+B,QAFJ;YAEIA,QAFJ,mCAEe,YAAM;iBACPD;;cAAK,OAAOhB,WAAZ;yCACL,IAAD,IAAM,MAAM,MAAKkB,KAAL,CAAWC,OAAX,GAAqB,SAArB,GAAiC,MAA7C,GADM;;;gBAED,WAAU,iBAAf;;;WAFF;SAHN;YAQSP,GART,2BASM1B,KATN;;sBAWgB8B;mBAAA;aAAA;;SAAd;;;;;SASC,QAAL;;6BAEoC9B,KADlC,CACUkC,OADV;YACUA,OADV,kCACoB,EADpB;YAC2BR,IAD3B,2BACkC1B,KADlC;;sBAGiB8B;mBAAA;cAAA;uBACCI,OAAb,EAAsBzB,GAAtB,CAA0B,gBAAQ;mBAE/BqB;uBAAA,CAAW,MAAX;gBAAkB,KAAK/B,KAAKY,GAAL,IAAYZ,KAAKa,KAAxC,EAA+C,OAAOb,KAAKa,KAA3D;mBAAwEF;aAD1E;WADD;SADH;;;;SAUC,UAAL;SACK,OAAL;;8BAEoCV,KADlC,CACUkC,OADV;YACUA,QADV,mCACoB,EADpB;YAC2BR,IAD3B,2BACkC1B,KADlC;;sBAGiB8B;mBAAA,CAAW,KAAX;cAAA;uBACCI,QAAb,EAAsBzB,GAAtB,CAA0B,gBAAQ;mBAE/BqB;uBAAA;gBAAW,KAAK/B,KAAKY,GAAL,IAAYZ,KAAKa,KAAjC,EAAwC,OAAOb,KAAKa,KAApD;mBAAiEF;aADnE;WADD;SADH;;;;SAUC,aAAL;;8BAEoCV,KADlC,CACUkC,OADV;YACUA,SADV,mCACoB,EADpB;YAC2BR,IAD3B,2BACkC1B,KADlC;;sBAGiB8B;mBAAA,CAAW,KAAX;cAAA;uBACCI,SAAb,EAAsBzB,GAAtB,CAA0B,gBAAQ;mBAE/BqB;uBAAA,CAAW,MAAX;gBAAkB,KAAK/B,KAAKY,GAAL,IAAYZ,KAAKa,KAAxC,EAA+C,OAAOb,KAAKa,KAA3D;mBAAwEF;aAD1E;WADD;SADH;;;;;oBAYYoB,wCAAO,aAAY,iBAAnB,GAAd;;;SAGGR,WAAP;CA/GF;;ICxBMa;;;;;;;;;;mCAEWvC,MAAMwC,mBAAmBb,UAA0B;;;UAAhBc,IAAgB,uEAAT,EAAS;UAALC,GAAK;;aACzDD,KAAK5B,GAAL,CAAS,UAACV,IAAD,EAAOwC,KAAP,EAAiB;YAG7B7B,KAH6B,GAqB3BX,IArB2B,CAG7BW,KAH6B;YAK7B8B,MAL6B,GAqB3BzC,IArB2B,CAK7ByC,MAL6B;4BAqB3BzC,IArB2B,CAO7B0C,OAP6B;YAO7BA,OAP6B,iCAOnB,IAPmB;wBAqB3B1C,IArB2B,CAQ7BY,GAR6B;YAQ7BA,GAR6B,6CAQT+B,KAAKC,MAAL,EARS;2BAqB3B5C,IArB2B,CAS7B6C,MAT6B;YAS7BA,MAT6B,gCASpB,EAToB;YAW7BC,MAX6B,GAqB3B9C,IArB2B,CAW7B8C,MAX6B;+BAqB3B9C,IArB2B,CAY7B+C,UAZ6B;YAY7BA,UAZ6B,oCAYhB,KAZgB;YAc7B/B,IAd6B,GAqB3BhB,IArB2B,CAc7BgB,IAd6B;mCAqB3BhB,IArB2B,CAgB7BgD,cAhB6B;YAgB7BA,cAhB6B,wCAgBZ,EAhBY;0BAqB3BhD,IArB2B,CAkB7BiD,KAlB6B;YAkB7BA,AAEGhD,KApB0B,2BAqB3BD,IArB2B;;YAsB3BkD,MAAM,IAAV;YACIR,YAAY,KAAhB,EAAuB;;SAAvB,MAEO,IAAI1B,SAAS,IAAb,EAAmB;iBACjBe,qCAAI,KAAKS,KAAT,GAAP;SADK,MAEA,IAAIxB,SAAS,OAAb,EAAsB;gBACrB,OAAKmC,cAAL,CAAoBtD,IAApB,EAA0BwC,iBAA1B,EAA6Cb,QAA7C,EAAuDxB,KAAKgC,QAA5D,EAAsE,OAAtE,CAAN;SADK,MAEA,IAAIc,MAAJ,EAAY;cACbM,aAAaN,OAAOjD,IAAP,KAAgBkC,wCAAO,aAAY,6BAAnB,GAAjC;gBACMU,WAAW,IAAX,GAAkBW,UAAlB,GAA+Bf,kBAAkBzB,GAAlB,EAAuBiC,MAAvB,EAA+BO,UAA/B,CAArC;SAFK,MAGA;;cAEDC;;aAECpD,KAFD,CAAJ;cAII8C,UAAJ,EAAgBM,MAAM7B,QAAN,GAAiBA,QAAjB;cACZ4B,cAAaE,eAAeD,KAAf,EAAsBxD,IAAtB,CAAjB;gBACMmB,SAAS,QAAT,GAAoBoC,WAApB,GAAiCf,kBAAkBzB,GAAlB,EAAuBiC,MAAvB,EAA+BO,WAA/B,CAAvC;;;YAGEb,QAAQ,OAAZ,EAAqB;iBACXR;;cAAM,OAAO,EAAEwB,cAAc,EAAhB,EAAb,EAAmC,YAAUf,KAA7C;;WAAR;;;eAGMT;iBAAM,IAAN;qBAAW,OAAOpB,KAAlB,EAAyB,KAAK6B,KAA9B,IAAyCQ,cAAzC;mBAEK,OAAT,GAAmBjB;;;;WAAnB,GAAsCmB;SAF1C;OA/CK,CAAP;;;;6BAwDO;mBACkE,KAAKjD,KADvE;UACCJ,IADD,UACCA,IADD;UACO2D,UADP,UACOA,UADP;iCACmBC,MADnB;UACmBA,MADnB,iCAC4B,YAD5B;+BAC0CnB,IAD1C;UAC0CA,IAD1C,+BACiD,EADjD;UACqDd,QADrD,UACqDA,QADrD;UAECa,iBAFD,GAEuBxC,IAFvB,CAECwC,iBAFD;;;UAIHqB,cAAcF,cAAcC,WAAW,YAAzB,GAAwC;kBAC9C,EAAEE,MAAM,CAAR,EAD8C;oBAE5C,EAAEA,MAAM,EAAR;OAFI,GAGd,IAHJ;;aAKQ5B;;mBAAM,QAAQ0B,MAAd,IAA0BC,WAA1B;aAECP,cAAL,CAAoBtD,IAApB,EAA0BwC,iBAA1B,EAA6Cb,QAA7C,EAAuDc,IAAvD;OAFJ;;;;EApEgBjB;;AA2EpB,WAAe,OAAKuC,MAAL,GAAcxB,KAAd,CAAf;;AC7EA,sBAAe,UAACf,SAAD,EAAe;;;;sBAEZ;;;;;YAEPY,KAAL,GAAa;eACJ,EADI;gBAEH,CAFG;kBAGD,CAHC;mBAIA;OAJb;;;;;;2CAQmB;;;qBAC4B,KAAKhC,KADjC;uCACX4D,UADW;YACXA,UADW,qCACE,KADF;mCACSC,MADT;YACSA,MADT,iCACkB,KADlB;kCAEsCD,UAFtC,CAEXE,OAFW;YAEXA,OAFW,uCAED,CAFC;mCAEsCF,UAFtC,CAEEG,QAFF;YAEEA,QAFF,wCAEa,EAFb;YAEiBC,gBAFjB,GAEsCJ,UAFtC,CAEiBI,gBAFjB;;aAGdC,QAAL,CAAc;iBACL,EADK;kBAEJ,CAFI;oBAGFH,OAHE;qBAIDC;SAJb,EAKG,YAAM;;oBAEG,OAAKG,SAAL,EAAV;SAPF;;;;oCAWwC;;;YAA9BC,QAA8B,uEAAnB,CAAmB;;YAAhBC,SAAgB,uEAAJ,EAAI;;aACnCH,QAAL,CAAc;4BAAA;;SAAd,EAGG,YAAM;iBACFC,SAAL;SAJF;;;;8BAQM;;;sBACiC,KAAKlE,KADtC;sCACE8D,OADF;YACEA,OADF,mCACY,CADZ;uCACeC,QADf;YACeA,QADf,oCAC0B,EAD1B;;aAEDE,QAAL,CAAc;iBACL,EADK;kBAEJ,CAFI;oBAGFH,OAHE;qBAIDC;SAJb,EAKG,YAAM;iBACFG,SAAL;SANF;;;;gCAUQ;aACHA,SAAL;;;;gCAGmB;YAAbG,MAAa,uEAAJ,EAAI;;YACbpB,MAAM,EAAZ;eACOzC,IAAP,CAAY6D,MAAZ,EAAoB5D,GAApB,CAAwB,eAAO;cACzB,CAACE,IAAI2D,QAAJ,CAAa,GAAb,CAAL,EAAwBrB,IAAItC,GAAJ,IAAW0D,OAAO1D,GAAP,CAAX;SAD1B;;eAIOsC,GAAP;;;;kCAGU;;;qBACsB,KAAKjB,KAD3B;YACFmC,QADE,UACFA,QADE;YACQC,SADR,UACQA,SADR;sBAEkF,KAAKpE,KAFvF;YAEFuE,MAFE,WAEFA,MAFE;0CAEMC,WAFN;YAEMA,WAFN,uCAEoB,UAACC,GAAD;iBAASC,QAAQC,KAAR,CAAcF,GAAd,CAAT;SAFpB;qCAEiDJ,MAFjD;YAEiDA,MAFjD,kCAE0D,YAAM;iBAAS,EAAP;SAFlE;;YAGJO,sBACD,KAAKC,OAAL,CAAaR,QAAb,CADC;gBAEEF,QAFF;oBAGMC;UAHZ;;YAMIU,UAAU,IAAd;YACIP,MAAJ,EAAY;oBACAA,OAAOK,MAAP,CAAV;SADF,MAGO;gBACC,IAAI/D,KAAJ,CAAU,mBAAV,CAAN;;;gBAGMkE,IAAR,CAAa,eAAO;cACdC,IAAIC,MAAR,EAAgB;mBACThB,QAAL,CAAc;qBACLe,IAAIE,KADC;sBAEJF,IAAIG;aAFd;WADF,MAKO;wBACOH,IAAII,OAAhB;;SAPJ;;;;+BAYO;;;sBAC6C,KAAKpD,KADlD;oCACCqD,KADD;YACCA,KADD,iCACS,EADT;YACaC,MADb,WACaA,MADb;YACqBnB,QADrB,WACqBA,QADrB;YAC+BC,SAD/B,WAC+BA,SAD/B;;sBAEyD,KAAKpE,KAF9D;yCAEC4D,UAFD;YAECA,UAFD,sCAEc,IAFd;YAEoBW,MAFpB,WAEoBA,MAFpB;YAE4BF,MAF5B,WAE4BA,MAF5B;YAEoCR,MAFpC,WAEoCA,MAFpC;YAE+C7D,KAF/C;;;YAIHuF,cAAc,IAAlB;YACI3B,eAAe,KAAnB,EAA0B;wBACV,KAAd;SADF,MAEO;cAEH4B,KAFG,GAOD5B,UAPC,CAEH4B,KAFG;cAEI1B,OAFJ,GAODF,UAPC,CAEIE,OAFJ;cAEaC,QAFb,GAODH,UAPC,CAEaG,QAFb;sCAODH,UAPC,CAGH6B,eAHG;cAGHA,eAHG,yCAGe,IAHf;qCAOD7B,UAPC,CAIH8B,QAJG;cAIHA,SAJG,wCAIQ,YAAM,EAJd;sCAOD9B,UAPC,CAKH+B,SALG;cAKHA,SALG,yCAKS,UAACH,KAAD,EAAQI,KAAR;mBAAqBA,MAAM,CAAN,CAArB,SAAiCA,MAAM,CAAN,CAAjC,wBAAkDJ,KAAlD;WALT;sCAOD5B,UAPC,CAMHI,gBANG;cAMHA,iBANG,yCAMgB,YAAM,EANtB;cAM8BpB,MAN9B,2BAODgB,UAPC;;;mBASI0B,MADT;qBAEWnB,QAFX;sBAGYC,SAHZ;sBAIY,oBAAW;qBACdyB,WAAL;;aALJ;gCAAA;4CAAA;8BAUoB,0BAAC/B,OAAD,EAAUC,QAAV,EAAuB;qBAClC8B,WAAL,CAAiB/B,OAAjB,EAA0BC,QAA1B;gCACiBD,OAAjB,EAA0BC,QAA1B;;aAECnB,MAdL;;eAkBAd,6BAAC,SAAD,eAAe9B,KAAf,IAAsB,YAAYqF,KAAlC,EAAyC,YAAYE,WAArD,IADF;;;;IAxHiBzD,eAAMV,SAA3B;CADF;;ACEA,YAAe0E,sBAAf;;ACAA,WAAeA,qBAAf;;;;;oBCEgB;;;;;UAEP9D,KAAL,GAAa;iBACA;KADb;;;;;;;yCAMmB;;WAEdiC,QAAL,CAAc;mBACD,KAAKjE,KAAL,CAAWyC;OADxB;;;;2BAKkB;UAAfsD,MAAe,uEAAN,IAAM;;;WAEb9B,QAAL,CAAc;mBACD8B;OADb;;;;qCAKe;;aAER,KAAKnG,IAAL,CAAUoG,cAAV,EAAP;;;;8BAGQC,UAAU;WACbhC,QAAL,CAAc;mBACD;OADb,EAEG,YAAM;oBACKgC,UAAZ;OAHF;;;;gCAOUA,UAAU;WACfrG,IAAL,CAAUsG,WAAV;kBACYD,UAAZ;;;;6BAGO;;;UACCE,SADD,GACe,KAAKnE,KADpB,CACCmE,SADD;;mBAUH,KAAKnG,KAVF;UAGL+B,QAHK,UAGLA,QAHK;UAILU,OAJK,UAILA,OAJK;mCAKL2D,QALK;UAKLA,UALK,mCAKM,YAAM,EALZ;qCAMLC,UANK;UAMLA,YANK,qCAMQ,YAAM,EANd;+BAOLC,IAPK;UAOLA,KAPK,+BAOE,YAAM,EAPR;UAQLC,MARK,UAQLA,MARK;+BAQG3G,IARH;UAQGA,IARH,+BAQU,EARV;UASF8B,EATE;;aAaLI;;;mBACWqE,SADX;oBAEY;mBAAM,OAAKK,SAAL,CAAeJ,UAAf,CAAN;WAFZ;sBAGc;mBAAM,OAAKK,WAAL,CAAiBJ,YAAjB,CAAN;WAHd;gBAIQ,cAACxE,CAAD,EAAO;kBAAOA,CAAL,EAAQ,OAAK6E,IAAL,CAAU9G,IAAlB,EAAwB,UAAC+G,CAAD;qBAAO,OAAKC,IAAL,CAAUD,CAAV,CAAP;aAAxB;;WACXjF,EALN;qCAOG;;qBAEC,qBAAqB,6BAACmF,IAAD;mBAAU,OAAKjH,IAAL,GAAYiH,QAAQA,KAAK7G,KAAL,CAAWJ,IAAzC;;WACjBA,IAHN;OARJ;;;;EAtDyBwB;;ACL7B,SAAS,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE;EAC7B,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;EAC/B,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;;EAE5B,IAAI,CAAC,GAAG,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE,EAAE,OAAO,EAAE;;EAExD,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACrE,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;EAC5C,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC;;EAExB,IAAI,QAAQ,KAAK,KAAK,EAAE;IACtB,IAAI,IAAI,CAAC,UAAU,EAAE;MACnB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC3C,MAAM;MACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;KACzB;GACF,MAAM;IACL,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;GACzB;;EAED,IAAI,KAAK,CAAC,UAAU,EAAE;IACpB,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,CAAC;GAChC,MAAM;IACL,KAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;GACjD;CACF;;;;;;ACvBD,kBAAe,UAACA,SAAD,EAAe;;;;sBAGZ;;;;;YAEPY,KAAL,GAAa;oBACC;OADd;;;;;;8BAKM8E,WATV,EASuB;;;YACfC,aAAa,EAAjB;YACMnC,sBACDkC,WADC,CAAN;;eAIOtG,IAAP,CAAYoE,MAAZ,EAAoB9E,OAApB,CAA4B,eAAO;cAC7BkH,MAAMpC,OAAOjE,GAAP,CAAV;cACIP,OAAOC,SAAP,CAAiBF,QAAjB,CAA0BI,IAA1B,CAA+ByG,GAA/B,MAAwC,oBAAxC,IAAgEA,QAAQ,EAA5E,EAAgF;uBACnErG,GAAX,IAAkBqG,GAAlB;;SAHJ;;aAOK/C,QAAL,CAAc;;SAAd,EAEG,YAAM;;iBAEFgD,OAAL;SAJF;;;;;;gCAQQ;aACHP,IAAL,CAAUQ,GAAV,CAAcD,OAAd;gBACQE,GAAR,CAAY,iBAAZ;;;;oCAGY;aACPnH,KAAL,CAAWJ,IAAX,CAAgBsG,WAAhB;aACKjC,QAAL,CAAc;sBACA;SADd;;;;yCAKiB;eACV,KAAKjC,KAAL,CAAW+E,UAAlB;;;;+BAGO;;;YACD/G,qBAED,KAAKA,KAFJ;;kBAII;mBAAM,OAAKoH,gBAAL,EAAN;WAJJ;oBAKM,kBAACxH,IAAD;mBAAU,OAAKyH,OAAL,CAAazH,KAAKoG,cAAL,EAAb,CAAV;;UALZ;;eAQOlE,6BAAC,SAAD,aAAW,KAAI,KAAf,IAAyB9B,KAAzB,EAAP;;;;IAvDiB8B,eAAMV,SAA3B;CADF;;ICeMkG;;;;;;;;;;8BAEM;WACHZ,IAAL,CAAUa,IAAV,CAAeN,OAAf;;;;6BAGO;mBAKH,KAAKjH,KALF;+BAELe,IAFK;UAELA,IAFK,+BAEE,OAFF;UAGLwF,MAHK,UAGLA,MAHK;UAGGhF,QAHH,UAGGA,QAHH;UAILiG,KAJK,UAILA,KAJK;UAIKxH,KAJL;;;aAQL8B;;;;;YACO,WAAW2F,OAAO7H,IAAvB;uCACG,IAAD,eAAU2G,MAAV,IAAkB,UAAUhF,QAA5B;SAFJ;;;YAIO,WAAWkG,OAAOD,KAAvB;mBAEa,OAAT,GAAmB1F,6BAAC,KAAD,aAAO,KAAI,MAAX,IAAsB0F,KAAtB,EAAiCxH,KAAjC,EAAnB,GAAgE8B,6BAAC,IAAD,aAAM,KAAI,MAAV,IAAqB0F,KAArB,EAAgCxH,KAAhC;;OAPxE;;;;EAboBoB;;AA6BxB,YAAesG,WAAWJ,SAAX,CAAf;;;;;;;;"}