{"version":3,"file":"index.js","sources":["../src/utils.js","../src/Form.js","../src/hoc/pagination.js","../src/Table.js","../src/List.js","../src/Modal.js","../src/ModalTable.js","../node_modules/style-inject/dist/style-inject.es.js","../src/hoc/search.js","../src/index.js"],"sourcesContent":["let toString = Object.prototype.toString;\n\nconst filter = function (fieldsValue) {\n  const ret = {};\n  let formValues = {};\n  const values = {\n    ...fieldsValue\n  };\n  // 移除空的字段\n  Object.keys(values).forEach(key => {\n    let val = values[key];\n    if (toString.call(val) !== \"[object Undefined]\" && val !== '') {\n      if (toString.call(val) == \"[object String]\") {\n        val = val.trim();\n        if (val !== '') {\n          formValues[key] = val;\n        }\n\n      } else {\n        formValues[key] = val;\n      }\n\n    }\n  });\n\n  Object.keys(formValues).map(key => {\n    if (!key.includes(',')) ret[key] = formValues[key]\n  })\n\n  return ret;\n}\n\nconst transToArray = (obj) => {\n  if (toString.call(obj) === '[object Object]') {\n    return Object.keys(obj).map(key => {\n      return { label: obj[key], value: key }\n    })\n  } else if (toString.call(obj) === '[object Array]') {\n    return obj;\n  }\n\n  throw new Error('need obj or array')\n}\n\n\nfunction diff(o, n) { // for Array & Object\n  // 如果类型不一样， n 为全新\n  const dType = toString.call(n);\n  if (dType !== toString.call(o)) return n;\n  let diffData = undefined;\n  switch (dType) {\n    case \"[object Number]\":\n    case \"[object String]\":\n    case \"[object Boolean]\": {\n      if (o !== n) diffData = n;\n    }\n      ; break;\n    case \"[object Array]\": {\n      if (o.length !== n.length) diffData = n;\n      else {\n        let r = o.reduce((total, item, i) => {\n          let r = diff(item, n[i]);\n          if (r !== undefined) {\n            total.push(n[i])\n          };\n          return total;\n        }, [])\n        if (r.length > 0) diffData = n;\n\n      }\n    }\n      ; break;\n    case \"[object Object]\": {\n      let keys = Object.keys(n);\n      if (keys.length !== Object.keys(o).length) diffData = n;\n      else {\n        let r = keys.reduce((total, key) => {\n          let r = diff(o[key], n[key]);\n          if (r !== undefined) {\n            return {\n\n              ...total,\n\n              [key]: n[key]\n\n            }\n          }\n\n          return total\n        }, undefined)\n\n\n\n        if (r !== undefined) { diffData = r; }\n      }\n\n\n    }; break;\n  }\n\n  return diffData\n}\n\n\nexport { filter, transToArray, toString, diff, }","import React, { useState, memo, useEffect, useRef } from 'react';\nimport { Form, Input, Row, Col } from 'antd';\nimport { filter, diff } from './utils';\n\nfunction createFormItem(obj, form) {\n  // console.log(obj.cType.name)\n  const { cType: AntdComponent, child, innerHTML, bindSearchEvent, ...props } = obj;\n  // const AntdComponent = obj.cType;\n  if (bindSearchEvent) {\n    if (obj.onClick) {\n      // const onClick = obj.onClick;\n      props.onClick = e => {\n        obj.onClick(e, form)\n        bindSearchEvent(form);\n      }\n    } else {\n      props.onClick = () => {\n        bindSearchEvent(form);\n      }\n    }\n  }\n\n  return <AntdComponent {...props}>{child || (innerHTML && innerHTML())}</AntdComponent>\n}\n\nexport default memo((props, ref) => {\n  const [initialValues] = useState({});\n  const [form] = Form.useForm();\n  const { _bindForm = () => { }, formLayout, layout = \"horizontal\", data = [], autoSearchEvent } = props;\n\n\n  const innerFormLayout = formLayout || (layout === 'horizontal' ? {\n    labelCol: { span: 6 },\n    wrapperCol: { span: 14 },\n  } : {});\n\n  _bindForm(form);\n\n  function getFieldsValue() {\n    const fieldsValue = form.getFieldsValue();\n\n    return filter(fieldsValue);\n\n  }\n\n  const transFuncToObj = (func = {}) => {\n    let ret = null;\n    if (Object.prototype.toString.call(func) === '[object Function]') {\n      ret = func(form, this)\n    } else {\n      ret = func;\n    }\n\n    return ret;\n  }\n\n  function transConfig({ initialValue, ...config }) {\n    return config;\n  }\n\n  const renderElement = (bindSearchEvent, formData = [], initialValues = {}) => {\n    return formData.map((item, _) => {\n      const {\n        // 组件是否渲染\n        visible = true,\n\n        // Form.Item 属性\n        unbind,\n        key = `random_key_${Math.random()}`,\n        formItem = {}, // form item 属性\n        config = {}, // form item 验证配置\n        label,\n        extra = null,\n        hasFeedback = false,\n\n        // 完全自定义组件渲染(即不包含在已有组件列表中)\n        render,\n        // 在原组件基本上修改组件\n        renderFix,\n\n        // button 是否绑定 搜索事件\n        bindSearch = false,\n\n        // 组件类型\n        cType,\n        // 组件固有属性\n        cConfig,\n        ...itemProps\n      } = item;\n\n      if(cConfig) {\n        itemProps['config'] = cConfig;\n      }\n\n\n      const formItemProps = {\n        name: key,\n        label,\n        extra,\n        hasFeedback,\n        ...formItem,\n        ...transConfig(config)\n      }\n\n      if (config.hasOwnProperty('initialValue')) {\n        initialValues[item.key] = config.initialValue;\n      } else {\n        console.log('no config', item.key)\n      }\n\n\n      let ret = null;\n      if (visible !== false) {\n        if (cType === 'br') {\n          ret = <p style={{\n            display: 'block',\n            width: '100%',\n            height: 0,\n            margin: 0,\n            padding: 0\n          }} />\n        } else if (cType === 'span') {\n          ret = <span  {...itemProps} >{label}</span>\n        } else if (cType === 'hidden') {\n          ret = (<Form.Item noStyle key={key}  {...formItemProps}>\n            {\n              createFormItem({\n                cType: Input,\n                hidden: true,\n              }, form)\n\n            }\n          </Form.Item>)\n        } else if (cType === 'group') {\n          const curCom = renderElement(bindSearchEvent, item.children, initialValues)\n          ret = unbind==true?curCom: (<Form.Item noStyle key={key} >\n            {\n              curCom\n            }\n          </Form.Item>)\n\n        } else if (render) {\n          const renderItem = render(form, Form.Item);\n          const curCom = renderFix ? renderFix(renderItem) : renderItem;\n          ret = unbind===true? curCom:(<Form.Item key={key} {...formItemProps}>\n            {\n              curCom\n            }\n          </Form.Item>)\n\n        } else if(cType === 'grid') {\n          const {\n            colProps,\n            ...rowProps\n          } = itemProps;\n\n          ret = (<Row key={key} {...rowProps}>\n            {\n              item.children.map((gItem, ind)=>{\n                const curCom = renderElement(bindSearchEvent, [gItem], initialValues);\n                return <Col key={ind} {...colProps}>\n                  {curCom}\n                </Col>\n              })\n            }\n          </Row>)\n        } else {\n          const eleConfig = {\n            cType,\n            ...itemProps\n          }\n\n          if (bindSearch) {\n            eleConfig.bindSearchEvent = bindSearchEvent\n          }\n\n          const renderItem = createFormItem(eleConfig, form);\n\n          const curCom =renderFix ? renderFix(renderItem) : renderItem;\n\n          ret = unbind? curCom : (<Form.Item key={key} {...formItemProps}>\n            {\n              curCom\n            }\n          </Form.Item>)\n        }\n      }\n\n      return ret;\n    })\n  }\n\n  const renderItems = renderElement(autoSearchEvent, transFuncToObj(data), initialValues);\n  const values = Object.assign({}, initialValues);\n  const valueRef = useRef({})\n\n  useEffect(() => {\n\n    form.setFieldsValue(diff(valueRef.current, values) || {})\n    valueRef.current = values;\n  }, [values])\n\n\n  return (<Form layout={layout} {...innerFormLayout} form={form} initialValues={values}>\n    {\n      renderItems\n    }\n    {\n      React.Children.map(props.children, child => child)\n    }\n  </Form>)\n})\n","import React from 'react';\nimport { toString } from '../utils';\n\n\nexport default (Component) => {\n  return class extends React.PureComponent {\n    constructor(props) {\n      super(props);\n      this.state = {\n        _list: [],\n        _total: 0,\n        _current: 1,\n        _pageSize: 10\n      }\n    }\n\n    // 在生命周期中 使用 props 时要注意其有效性\n    _init(props, isInit = false) {\n      const { pagination = false, dataSource, total = 0 } = props;\n      const { current = 1, pageSize = 10 } = pagination;\n      this.setState({\n        _list: dataSource, // 初始化数据,可来自外部\n        _total: total,\n        _current: current,\n        _pageSize: pageSize\n      }, () => {\n        // 初始化 是否要求加载数据\n        isInit && this._loadData();\n      })\n    }\n\n    // 同步初始化数据\n    componentWillMount() {\n      this._init(this.props, this.props.isInit)\n    }\n\n    // 处理异步传入的props, 只设置状态不进行数据加载\n    // 避免由于父组件状态更新引起 数据重新获取\n    // 不能要, 父组件更新, 状态回到初始值, 也不好\n    // 但要解决异步 props 问题\n    // componentWillReceiveProps(nextProps) {\n    //   this._init(nextProps, false);\n    // }\n\n    // 重新触发按钮搜索时\n    // 重置 状态回到初始并加载数据\n    // 有时只是要求重置状态, 并不要求进行数据加载\n    // 可以在异步 props 时进行手动调用, 不在 WillReceiveProps 中进行处理\n    reset(needLoad = true) {\n      this._init(this.props, needLoad)\n    }\n\n    // 刷新 当前状态下进行数据加载\n    refresh() {\n      this._loadData();\n    }\n\n    // 换页 改变状态下进行数据加载\n    _pageChange(_current = 1, _pageSize = 10) {\n      this.setState({\n        _current,\n        _pageSize\n      }, () => {\n        this._loadData();\n      })\n    }\n\n    _loadData() {\n      const { _current, _pageSize } = this.state;\n      const { action, pagination, pageName = \"page\", pageSizeName = \"pageSize\",\n        valueMap = (res) => {\n          return {\n            status: res.status,\n            dataSource: res.entry,\n            total: res.totalRecordSize\n          }\n        },\n        actionError = (msg) => console.error(msg),\n        params = () => ({}),\n        extraParams = () => ({})\n      } = this.props;\n\n      let _val = toString.call(extraParams) === \"[object Function]\" ? extraParams() : extraParams;\n      const values = pagination===false?{\n        // 获取外部搜索参数\n        ..._val,\n        // 获取内部搜索参数,\n        ...params(),\n      }:{\n        // 获取外部搜索参数\n        ..._val,\n        // 获取内部搜索参数,\n        ...params(),\n        [pageName]: _current,\n        [pageSizeName]: _pageSize\n      }\n\n      // return;\n      let request = null;\n      if (action) {\n        request = action(values);\n        request.then(res => {\n          const { dataSource, total, status } = valueMap(res);\n          if (status) {\n            this.setState({\n              _list: dataSource,\n              _total: total\n            })\n          } else {\n            actionError(res.message)\n          }\n        })\n      } else {\n        // throw new Error('need action filed')\n        console.warn('!!!!!!!!!need action!!!!!!!!')\n      }\n\n      \n    }\n\n    render() {\n      const { _list, _total, _current, _pageSize } = this.state;\n      const { pagination = true, action, params, extraParams, pageName, pageSizeName, valueMap, actionError, isInit, ...props } = this.props;\n      // 追加 pagination 配置\n      let _pagination = null;\n      if (pagination === false) {\n        _pagination = false\n      } else {\n        const {\n          total, current, pageSize,\n          showSizeChanger = true,\n          onChange = () => null,\n          showTotal = (total, range) => `${range[0]}-${range[1]} 条, 共 ${total} 条`,\n          onShowSizeChange = () => null,\n          ...config\n        } = pagination;\n        _pagination = {\n          total: _total || this.props.total,\n          current: _current,\n          pageSize: _pageSize,\n          onChange: (...pr) => {\n            this._pageChange(...pr);\n            onChange(...pr);\n          },\n          showTotal,\n          showSizeChanger,\n          onShowSizeChange: (current, pageSize) => {\n            this._pageChange(current, pageSize);\n            onShowSizeChange(current, pageSize)\n          },\n          ...config\n        }\n      }\n\n      return (<Component {...props} dataSource={_list || []} pagination={_pagination} />)\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport { Table } from 'antd';\n\nimport withPagination from './hoc/pagination';\n\nexport default withPagination(Table)","import React, { Component } from 'react';\nimport { List } from 'antd';\n\nimport withPagination from './hoc/pagination';\n\nexport default withPagination(List)\n","import React, { useState, useRef, useImperativeHandle, forwardRef, memo } from 'react';\nimport { Modal, Form as AntdForm, message } from 'antd';\nimport Form from './Form';\nimport { toString, filter } from './utils';\n\n// 此 Modal 仅对于 form 来讲\nconst Dialog = forwardRef((props, ref) => {\n  // 不接收动态属性变化\n  const [isVisible, setIsVisible] = useState(props.visible || false);\n  // const form = AntdForm.useForm()\n  const formRef = useRef();\n\n  const {\n    children,\n    visible,\n    onCancel = () => { },\n    afterClose = () => { },\n    onOk = (e, form, show) => { },\n    footer = (cancel, ok) => { },\n    search, form: formData = {},\n    //\n    action = false, extraParams, actionError, actionSuccess,\n    //\n    ...pr\n  } = props;\n\n  useImperativeHandle(ref, () => ({\n    show\n  }))\n\n  function show(isShow = true, callback) {\n    setIsVisible(isShow);\n    callback && callback();\n  }\n\n  const _onCancel = (callback) => {\n    show(false, callback)\n  }\n\n  const _afterClose = (callback) => {\n    console.log('_afterClose', formRef.current)\n    formRef.current && formRef.current.resetFields()\n    callback && callback()\n  }\n\n  const _getSearchParams = () => {\n    return filter(form.getFieldsValue())\n  }\n\n  // 处理 自动 action start\n  const autoHandleSubmit = () => {\n    const { action, extraParams = {}, actionError = (res) => { console.log(res) }, actionSuccess = (res) => { console.log(res) }, valueMap = (res) => {\n      return {\n        status: res.status\n      }\n    }, } = props;\n    let _val = toString.call(extraParams) === \"[object Function]\" ? extraParams() : extraParams;\n    let values = {\n      ..._val,\n      ..._getSearchParams()\n    }\n    action(values).then(res => {\n      const { status } = valueMap(res)\n      if (status) {\n        show(false, () => actionSuccess('操作成功'))\n      } else {\n        actionError(res.message)\n      }\n    }).catch(err => {\n      actionError(err.message)\n    })\n  }\n\n\n\n  // 处理 自动 action end\n\n\n  let _onCancelDialog = () => { _onCancel(onCancel) },\n    _onOk = action !== false ? autoHandleSubmit : (e) => { onOk(e, formRef.current, (f) => show(f)) };\n\n\n  return (\n    <Modal\n      visible={isVisible}\n      onCancel={_onCancelDialog}\n      afterClose={() => _afterClose(afterClose)}\n      onOk={_onOk}\n      footer={toString.call(footer) === \"[object Array]\" ? footer : footer(_onCancelDialog, _onOk)}\n      {...pr}\n    >\n      <Form _bindForm={(form) => { formRef.current = form; }} {...formData} />\n      {\n        React.Children.map(props.children, child => child)\n      }\n    </Modal>\n  )\n  // }\n})\n\nDialog.info = Modal.info;\nDialog.error = Modal.error;\nDialog.warning = Modal.warning;\nDialog.success = Modal.success;\nDialog.confirm = Modal.confirm;\n\nexport default Dialog;","\nimport React, { useState, useRef, useImperativeHandle, forwardRef, memo } from 'react';\nimport { Modal } from 'antd';\nimport SuperTable from './index';\nimport { toString, filter } from './utils';\n\n// 此 Modal 仅对于 form 来讲\nconst Dialog = forwardRef((props, ref) => {\n  // 不接收动态属性变化\n  const [isVisible, setIsVisible] = useState(props.visible || false);\n  // const form = AntdForm.useForm()\n  const formRef = useRef();\n\n  const {\n    children,\n    visible,\n    onCancel = () => { },\n    afterClose = () => { },\n    onOk = (e, form, show) => { },\n    footer = (cancel, ok) => { },\n    search, form: formData = {},\n    table, formStyle, tableStyle,tablePropos,\n    //\n    action = false, extraParams, actionError, actionSuccess,\n    //\n    ...pr\n  } = props;\n\n  useImperativeHandle(ref, () => ({\n    show\n  }))\n\n  function show(isShow = true, callback) {\n    setIsVisible(isShow);\n    callback && callback();\n  }\n\n  const _onCancel = (callback) => {\n    show(false, callback)\n  }\n\n  const _afterClose = (callback) => {\n    console.log('_afterClose', formRef.current)\n    formRef.current && formRef.current.resetFields()\n    callback && callback()\n  }\n\n  const _getSearchParams = () => {\n    return filter(form.getFieldsValue())\n  }\n\n  // 处理 自动 action start\n  const autoHandleSubmit = () => {\n    const { action, extraParams = {}, actionError = (res) => { console.log(res) }, actionSuccess = (res) => { console.log(res) }, valueMap = (res) => {\n      return {\n        status: res.status\n      }\n    }, } = props;\n    let _val = toString.call(extraParams) === \"[object Function]\" ? extraParams() : extraParams;\n    let values = {\n      ..._val,\n      ..._getSearchParams()\n    }\n    action(values).then(res => {\n      const { status } = valueMap(res)\n      if (status) {\n        show(false, () => actionSuccess('操作成功'))\n      } else {\n        actionError(res.message)\n      }\n    }).catch(err => {\n      actionError(err.message)\n    })\n  }\n\n\n\n  // 处理 自动 action end\n\n\n  let _onCancelDialog = () => { _onCancel(onCancel) },\n    _onOk = action !== false ? autoHandleSubmit : (e) => { onOk(e, formRef.current, (f) => show(f)) };\n\n\n  return (\n    <Modal\n      visible={isVisible}\n      onCancel={_onCancelDialog}\n      afterClose={() => _afterClose(afterClose)}\n      onOk={_onOk}\n      footer={toString.call(footer) === \"[object Array]\" ? footer : footer(_onCancelDialog, _onOk, formRef)}\n      {...pr}\n    >\n      <SuperTable \n        ref={formRef}\n        search={formData}\n        table={table}\n        formStyle={formStyle}\n        tableStyle={tableStyle}\n      />\n      {/* <Form _bindForm={(form) => { formRef.current = form; }} {...formData} /> */}\n      {\n        React.Children.map(props.children, child => child)\n      }\n    </Modal>\n  )\n  // }\n})\n\nDialog.info = Modal.info;\nDialog.error = Modal.error;\nDialog.warning = Modal.warning;\nDialog.success = Modal.success;\nDialog.confirm = Modal.confirm;\n\nexport default Dialog;","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport { filter } from '../utils';\n\n\nexport default (Component) => {\n  return class extends React.PureComponent {\n\n    constructor(props) {\n      super(props);\n\n      this.hoc = React.createRef();\n      this.form = null;\n    }\n\n    reset(needLoad = true) {\n      this.hoc.current.reset(needLoad)\n    }\n\n    // 由子类进行实现或重写\n    refresh() {\n      this.hoc.current.refresh()\n    }\n\n    // resetFields() {\n    //   this.props.form.resetFields();\n    // }\n\n    _getSearchParams() {\n      return filter(this.form.getFieldsValue())\n    }\n\n    render() {\n      const props = {\n        // 继承了配置\n        ...this.props,\n        // 新增了 两个函数, 一个是获取参数数据, 一个是进行请求\n        params: () => this._getSearchParams(),\n        // 每次点击, 都是重置数据\n        autoSearchEvent: () => this.reset(),\n        // 获取 form 实例\n        _bindForm: (form) => { this.form = form }\n      }\n\n      return <Component ref={this.hoc} {...props} />\n    }\n  }\n}","import React, { useImperativeHandle, forwardRef, useRef } from 'react';\n\nimport Form from './Form';\nimport Table from './Table';\nimport List from './List';\nimport Modal from './Modal';\nimport ModalTable from './ModalTable';\n\nimport styles from './style.less';\nimport withSearch from './hoc/search';\n\nexport {\n  Form,\n  Table,\n  List,\n  Modal,\n  ModalTable\n}\n\nconst SuperForm = (props, ref) => {\n\n  const list = useRef();\n  const form = useRef();\n\n  useImperativeHandle(ref, () => ({\n    reset: (needLoad = true) => {\n      list.current.reset(needLoad);\n    },\n    refresh: () => {\n      list.current.refresh();\n    }\n  }))\n\n  const {\n    type = 'table',   // 类型\n    search, autoSearchEvent, _bindForm, // search form 配置, onSearch 为自动传入事件\n    table,  // table or list 配置\n    extra,\n    // 样式\n    formStyle = {},\n    tableStyle = {},\n    ...pr\n  } = props;\n  return (\n    <div>\n      <div className={styles.form} style={formStyle}>\n        <Form  {...search} autoSearchEvent={autoSearchEvent} _bindForm={_bindForm} />\n      </div>\n      {extra}\n      <div className={styles.table} style={tableStyle}>\n        {\n          type === 'table' ? <Table ref={list} {...table} {...pr} /> : <List ref={list} {...table} {...pr} />\n        }\n      </div>\n\n    </div>\n  )\n\n}\n\nexport default withSearch(forwardRef(SuperForm)) "],"names":["toString","Object","prototype","filter","fieldsValue","ret","formValues","values","keys","forEach","val","key","call","trim","map","includes","diff","o","n","dType","diffData","undefined","length","r","reduce","total","item","i","push","createFormItem","obj","form","AntdComponent","cType","child","innerHTML","bindSearchEvent","props","onClick","e","React","memo","ref","useState","initialValues","useForm","_bindForm","formLayout","layout","data","autoSearchEvent","innerFormLayout","span","transFuncToObj","func","transConfig","initialValue","config","renderElement","formData","_","visible","unbind","Math","random","formItem","label","extra","hasFeedback","render","renderFix","bindSearch","cConfig","itemProps","formItemProps","hasOwnProperty","log","curCom","children","renderItem","Item","colProps","rowProps","gItem","ind","eleConfig","renderItems","assign","valueRef","useRef","setFieldsValue","current","Children","Component","state","isInit","pagination","dataSource","pageSize","setState","_loadData","_init","needLoad","_current","_pageSize","action","pageName","pageSizeName","valueMap","res","status","entry","totalRecordSize","actionError","msg","console","error","params","extraParams","_val","request","then","message","warn","_list","_total","_pagination","showSizeChanger","onChange","showTotal","range","onShowSizeChange","_pageChange","PureComponent","withPagination","Dialog","forwardRef","isVisible","setIsVisible","formRef","onCancel","afterClose","onOk","show","footer","cancel","ok","search","actionSuccess","pr","isShow","callback","_onCancel","_afterClose","resetFields","_getSearchParams","getFieldsValue","autoHandleSubmit","catch","err","_onCancelDialog","_onOk","f","info","warning","success","confirm","table","formStyle","tableStyle","tablePropos","style","hoc","createRef","reset","refresh","SuperForm","list","type","styles","withSearch"],"mappings":"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"}